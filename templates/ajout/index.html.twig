{% extends 'base.html.twig' %}

{% block title %}AJOUT
{% endblock %}

{% block body %}
	<main>
		<div class="card">
			{% if app.flashes('success') %}
				<h1>Évènement ajouté !</h1>
				<svg xmlns="http://www.w3.org/2000/svg" height="4em" viewbox="0 0 512 512" style="fill: #f7f7f7">
					<path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"/>
				</svg>
				<meta http-equiv="refresh" content="2;url={{ path('app_calendrier') }}">
			{% else %}
				<h1>Ajouter une date</h1>

				{% for flashMessage in app.flashes('error') %}
					<div class="alert alert-danger" role="alert">
						{{ flashMessage }}
					</div>
				{% endfor %}

				<form class="form" action="{{ path('app_ajout') }}" method="post">
					<div class="form-group">
						<label for="titre">Titre</label>
						<input type="text" name="titre" id="titre" required>
					</div>

					<div class="form-group">
						<label for="description">Description</label>
						<input type="text" name="description" id="description" required>
					</div>

					<div class="form-group">
						<label for="date">Date & Heure</label>
						<input type="datetime-local" name="date" id="date" {% if selectedDate %} value="{{ selectedDate }}" {% endif %} required>
					</div>


					<div class="form-group">
						<label for="module">Module</label>
						<select id="module" name="_module" required>
							{% for module in modules %}
								<option value="{{ module.module }}">{{ module.module }}
									-
									{{ module.nomCours }}</option>
							{% endfor %}
						</select>
					</div>

					<div class="form-group">
						<label for="typeRendu">Type de Rendu</label>
						<select id="typeRendu" name="_typeRendu" required>
							<option value="Partiel">Partiel</option>
							<option value="Evaluation">Evaluation</option>
							<option value="Rendu">Rendu</option>
							<option value="Rendu VPS">Rendu VPS</option>
							<option value="Rendu Moodle">Rendu Moodle</option>
							<option value="Autre">Autre</option>
						</select>
					</div>

					<div class="form-group">
						<label for="tp">TP</label>
						<select name="tp" id="tp">
							{% for tpOption in tpOptions %}
								<option value="{{ tpOption }}" {% if tpOption == selectedTp %} selected {% endif %}>
									{{ tpOption }}
								</option>
							{% endfor %}
						</select>
					</div>

					<button type="submit">Ajouter</button>
				</form>
			{% endif %}
		</div>
	</main>
{% endblock %}
